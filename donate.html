<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A Brand for Labour" />
    <title>Labour-Shop</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">

    <!-- CSS and Bootstrap -->
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="https://payments-js.elevate.salesforce.org/elevate-sdk.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!-- Animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300&display=swap" rel="stylesheet">
</head>

<body style="font-family: 'Roboto', sans-serif; font-size: larger;">

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg top-0 px-5">
        <div class="container-fluid mt-2">
            <a href="/" class="navbar-brand fs-3">Labour</a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                <div class="navbar-nav mx-2">
                    <a href="shop.html" class="nav-item nav-link">Shop</a>
                    <a href="donate.html" class="nav-item nav-link">Donate</a>
                </div>
                <a class="text-decoration-none" style="color:inherit;"
                    href="https://api.whatsapp.com/send?phone=+919518179383&amp;text=Hi there! :)">
                    <button type="button" onclick="contact" class="nav-button">Contact Us
                    </button>
                </a>
            </div>
        </div>
    </nav>


    <!-- Main container -->
    <div class="container p-5 text-center">
        <h3><mark>"Even The smallest effort can result in a great outcome"</mark></h3><br>
        <p>Giving away your money to help others is a noble deal. <b>Congratulations</b> to you for making it to this
            page.
        </p><br>

        <!-- Form -->

        <div class="container border shadow px-5">
            <p></p>
            <div class="row p-5 text-start">
                <h1 class="text-center"><b>DONATE</b></h1>
                <div class="col px-5 py-4">
                    <form onsubmit="handleForm(event)" class="form">
                        <div class="form-group">
                            <label>Payment Amount</label>
                            <input id="amount" name="amount" class="form-control" value="" required />
                        </div><br>
                        <div class="form-group">
                            <label>First Name </label>
                            <input id="firstName" name="firstName" class="form-control" required />
                        </div><br>
                        <div class="form-group">
                            <label>Last Name </label>
                            <input id="lastName" name="lastName" class="form-control" required />
                        </div><br>
                        <div class="form-group">
                            <div id="payments"></div>
                        </div><br>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="email" name="email" class="form-control" required />
                        </div><br>
                        <div class="form-group">
                            <label>Zip Code</label>
                            <input type="zip" id="zip" name="zip" class="form-control" required />
                        </div><br>
                        <input type="hidden" name="currencyCode" value="USD" /><br>
                        <button id="submit" type="submit" class="btn border btn-light btn-lg">
                            Donate Now!
                        </button><br>
                    </form>
                </div>
            </div>
            <div class="container py-3">
                <p>
                    This site is protected
                    <a href="https://policies.google.com/privacy">Privacy Policy</a> and
                    <a href="https://policies.google.com/terms">Terms of Service</a> apply.
                </p>
            </div>
        </div>

    </div>


    <!-- Footer -->
    <div class="text-center pt-5">
        <img width="200px" src="./Assets/footer-logo.svg" alt="Labour">
        <p class="text-muted" style="font-size: 10px;">Copyright (c) 2022 Labour Ltd.</p>
    </div>


    <!-- Scripts -->

    <!-- Bootstrap Script -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>



    <!-- Form Script -->
    <script>
        var theme = {
            fontSize: '16px',
            color: '#000000de',
            labelColor: '#0000008a',
        };
        var styles = `
          .cc-number {
            margin-right: 16px!important;
          }
          .exp {
            margin-right: 16px!important;
          }
        `;
        var merchantId = '<get merchant ID by referring to Payment Services API Integration>';
        var clientId = '<get client ID by referring to Payment Services API Integration>';
        var gatewayId = '<get gateway ID by referring to Manage Gateways>';
        function formatDate(date) {
            var d = new Date(date),
                month = '' + (d.getMonth() + 1),
                day = '' + d.getDate(),
                year = d.getFullYear();
            if (month.length < 2) month = '0' + month;
            if (day.length < 2) day = '0' + day;
            return [year, month, day].join('-');
        }
        var sfdo = new sfdoPaymentsJsSdk();
        sfdo.mount({
            id: 'payments',
            clientId: clientId,
            merchantId: merchantId,
            gatewayId: gatewayId,
            theme: theme,
            styles: styles,
        });
        function handleForm(e) {
            e.preventDefault();
            var firstName = document.getElementById('firstName').value;
            var lastName = document.getElementById('lastName').value;
            var amount = document.getElementById('amount').value;
            var email = document.getElementById('email').value;
            var zip = document.getElementById('zip').value;
            var nameoncard = firstName + ' ' + lastName;
            sfdo
                .createToken({
                    nameOnCard: nameoncard,
                    postalCode: zip,
                })
                .then(function response(resp) {
                    sfdo
                        .purchase({
                            firstName: firstName,
                            lastName: lastName,
                            amount: amount * 100,
                            currencyCode: 'USD',
                            paymentMethodToken: resp.token,
                            email: email,
                            productMetadataSchemaUri: 'https://payments-js.elevate.salesforce.org/schema/productMetadata/donation-v1.0.1',
                            productMetadata: {
                                allocations: [{
                                    id: 'VALID_SALESFORCE_GENERAL_ACCOUNTING_UNIT_ID',
                                    name: "Name displayed to user.",
                                    percentage: '100'
                                }],
                                donorCoverFee: 50,
                                campaign: {
                                    id: 'VALID_SALESFORCE_CAMPAIGN_ID',
                                },
                                consent: {
                                    message: 'Do you accept marketing emails?',
                                    optIn: true,
                                },
                                origin: {
                                    id: 'AN_INTERNAL_ID_FOR_TRACKING',
                                    type: 'THIRD_PARTY_GIVING_PAGE',
                                    displayName: 'My cool donation website',
                                }
                            }
                        })
                        .then(function (resp) {
                            console.log('Show the user a success message');
                            alert('Thank you for your donation');
                        })
                        .catch(function (resp) {
                            console.error('There was an error creating a donation', resp);
                            alert('There was an error creating a donation');
                        });
                })
                .catch(function (err) {
                    console.error('Tokenization Error:', err);
                    alert('Tokenization Error');
                });
        }
    </script>

</body>

</html>